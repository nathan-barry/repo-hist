{{define "content"}}
<div class="container px-8 py-8 text-github-dark max-w-full">
    <!-- Search Bar -->
    <form hx-post="/fetch-repo" hx-target="#repo" class="mb-6">
        <input value="a-h/templ" type="text" name="repoURL" placeholder="Enter user/repo" class="p-2 border rounded w-full border-github-dark bg-github-dark-secondary focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
    </form>

    <div id="repo" class="grid grid-cols-12 gap-4">
        <!-- This is the banner hero -->
        <div class="col-span-12 mt-16">
            <h1 class="text-4xl font-bold text-purple-600 mb-2 text-center">Repo History</h1>
            <br>
            <h1 class="text-4xl font-bold text-white mb-2 text-center">Explore First Commits of Any Repo</h1>
            <p class="text-xl text-gray-300 text-center">Just enter the URL of any repo above</p>
            <br>
            <br>
            <br>
            <img src="/static/repo-hist-hero.webp" class="mx-auto w-auto border border-github-dark rounded-lg" style="max-height: 800px;">
        </div>
    </div>
</div>


<!-- Global JS scripts -->
<script>
    // Focuses on current commit in left column
    function highlightCommit(commitElement) {
        document.querySelectorAll('.commit-button').forEach(function(btn) {
            btn.classList.remove('bg-github-dark-secondary');
        });
        commitElement.classList.add('bg-github-dark-secondary');
    }

    // Focuses on current file in right column
    function highlightFile(commitElement) {
        document.querySelectorAll('.file-button').forEach(function(btn) {
            btn.classList.remove('bg-github-dark-secondary');
        });
        commitElement.classList.add('bg-github-dark-secondary');
    }

    // Selects file contents and focuses File button
    function selectFile(buttonElement) {
        document.querySelectorAll('.file-content').forEach(function(btn) {
            btn.classList.remove('hidden');
        });
        document.querySelectorAll('.file-changes').forEach(function(btn) {
            btn.classList.add('hidden');
        });
        document.querySelectorAll('.select-changes-button').forEach(function(btn) {
            btn.classList.remove('bg-github-dark-secondary');
        });
        document.querySelectorAll('.select-file-button').forEach(function(btn) {
            btn.classList.add('bg-github-dark-secondary');
        });

    }

    // Selects file changes and focuses File button
    function selectChanges(buttonElement) {
        document.querySelectorAll('.file-content').forEach(function(btn) {
            btn.classList.add('hidden'); 
        });
        document.querySelectorAll('.file-changes').forEach(function(btn) {
            btn.classList.remove('hidden'); 
        });
        document.querySelectorAll('.select-file-button').forEach(function(btn) {
            btn.classList.remove('bg-github-dark-secondary');
        });
        document.querySelectorAll('.select-changes-button').forEach(function(btn) {
            btn.classList.add('bg-github-dark-secondary');
        });

    }
</script>
{{end}}
